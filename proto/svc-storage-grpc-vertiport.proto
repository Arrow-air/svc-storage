syntax = "proto3";
package grpc.vertiport;

import "google/protobuf/empty.proto";
import "google/protobuf/field_mask.proto";
import "svc-storage-grpc.proto";

//Vertiport gRPC service
service RpcService {
    rpc get_all_with_filter(grpc.SearchFilter) returns (List);
    rpc get_by_id(grpc.Id) returns (Object);
    rpc insert(Data) returns (Response);
    rpc update(UpdateObject) returns (Response);
    rpc delete(grpc.Id) returns (google.protobuf.Empty);
}

message Response {
    grpc.ValidationResult validation_result = 1;
    optional Object object = 2;
}

message Object {
    //id UUID v4
    string id = 1;
    //data
    Data data = 2;
}

message UpdateObject {
    //id UUID v4
    string id = 1;
    Data data = 2;
    google.protobuf.FieldMask mask = 3;
}

message Data {
    string name = 1;
    string description = 2;
    double latitude = 3;
    double longitude = 4;
    optional string schedule = 5;
    //repeated string engineers = 6;
    //uint32 elevation = 7;
}

message List {
    repeated Object list = 1;
}
